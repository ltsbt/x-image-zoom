let e=null,o=3,n=400,s=null;const l=2,r=100,u=1,a=10;function h(){e||(e=document.createElement("div"),e.style.position="absolute",e.style.border=l+"px solid #fff",e.style.boxShadow="0 0 10px rgba(0, 0, 0, 0.5)",e.style.borderRadius="50%",e.style.width=n+"px",e.style.height=n+"px",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.backgroundRepeat="no-repeat",document.body.appendChild(e))}document.addEventListener("mousedown",t=>{!t.shiftKey||t.button!==0||t.target instanceof HTMLImageElement&&(t.preventDefault(),t.stopPropagation(),h(),document.styleSheets[0].insertRule("img { cursor: none; }",0),e&&(e.style.display="block",s=t.target,d(t)))},{passive:!1,capture:!0});document.addEventListener("mouseup",()=>{e&&(e.style.display="none"),s=null,document.styleSheets[0].deleteRule(0)});document.addEventListener("mousemove",t=>{d(t)});document.addEventListener("wheel",t=>{!s||!e||(t.preventDefault(),t.ctrlKey?(n+=t.deltaY*-.1,n<r&&(n=r),n>window.innerWidth&&(n=window.innerWidth),e.style.width=n+"px",e.style.height=n+"px"):(o+=t.deltaY*-.01,o<u&&(o=u),o>a&&(o=a)),d(t))},{passive:!1});function d(t){if(!e||!s)return;const i=s.getBoundingClientRect();e.style.backgroundImage=`url(${s.src})`,e.style.backgroundSize=`${s.width*o}px ${s.height*o}px`;const c=(t.pageX-i.left)*o-e.offsetWidth/2+l,p=(t.pageY-i.top)*o-e.offsetHeight/2+l;e.style.backgroundPositionX=`-${c}px`,e.style.backgroundPositionY=`-${p}px`;const f=t.clientX-i.left,y=t.clientY-i.top,m=f-n/2,g=y-n/2;e.style.left=i.left+m+"px",e.style.top=i.top+g+"px"}
